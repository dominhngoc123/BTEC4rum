<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">

<!-- Author: Ngoc Do Minh -->
 
<struts>
    <package name="basicstruts2" extends="struts-default, json-default">
        <action name="login" class="App.LoginAction" method="checkLogin">
            <result name="LOGINSUCCESS" type="redirectAction">redirect</result>
        </action>
        <action name="redirect">
            <result>/Member/member.jsp</result>
        </action>
        <action name="logOut" class="App.LoginAction" method="logOut">
            <result name="LOGOUTSUCCESS">/index.jsp</result>
        </action>
        <action name="returnIndex">
            <result>/index.jsp</result>
        </action>
        <action name="adminLogin" class="App.LoginAction" method="checkAdminAccount">
            <result name="ADMINLOGINSUCCESS" type="redirectAction">adminLoadPostData</result>
            <result name="ADMINLOGINFAILED">
                <param name="location">/index.jsp</param>
                <param name="msg">${$msg}</param>
            </result>
        </action>
        <action name="adminLoadPostData" class="App.PostAction" method="getAllPost">
            <result name="POSTDATA">/Admin/admin.jsp</result>
        </action>
        <action name="adminLoadUserData" class="App.UserAction" method="getData">
            <result name="LISTALLACCOUNT">/Admin/admin.jsp</result>
        </action>
        <action name="adminBlockUser" class="App.UserAction" method="blockUser">
            <result name="BLOCKSUCCESS" type="redirectAction">adminLoadUserData</result>
            <result name="BLOCFAILED">/Error.jsp</result>
        </action>
        <action name="CreateNewPost">
            <result>/newPost.jsp</result>
        </action>
        <action name="AddNewPost" class="App.PostAction" method="addNewPost">
            <result name="USERADDPOSTSUCCESS">/Member/member.jsp</result>
            <result name="USERADDPOSTFAILED">/Error.jsp</result>
        </action>
        <action name="adminLoadTopicData" class="App.TopicAction" method="getData">
            <result name="LISTALLTOPIC" type="json">/Admin/admin.jsp</result>
        </action>
    </package>
</struts>
